<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en"><generator uri="https://jekyllrb.com/" version="4.3.4">Jekyll</generator><link href="https://madanbaduwal.github.io/feed.xml" rel="self" type="application/atom+xml"/><link href="https://madanbaduwal.github.io/" rel="alternate" type="text/html" hreflang="en"/><updated>2025-01-04T07:14:41+00:00</updated><id>https://madanbaduwal.github.io/feed.xml</id><title type="html">Madan Baduwal</title><subtitle>&quot;Cognitive neuroscience, Deep Learning(Multimodal Learning, Generative AI, LLM), Computer Vision, Natural Language Processing,Software Engineering, and Robotics.&quot; </subtitle><entry><title type="html">Covid-19 Detection</title><link href="https://madanbaduwal.github.io/blog/2020/covid19detection/" rel="alternate" type="text/html" title="Covid-19 Detection"/><published>2020-12-22T00:00:00+00:00</published><updated>2020-12-22T00:00:00+00:00</updated><id>https://madanbaduwal.github.io/blog/2020/covid19detection</id><content type="html" xml:base="https://madanbaduwal.github.io/blog/2020/covid19detection/"><![CDATA[<p>This assignment focuses on creating a machine learning model to classify COVID-19 lung X-ray images stored in Google Drive. Our objective is to perform binary classification of COVID-19 lung images from Kaggle datasets.</p> <p>Mount drive</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Mount drive
</span><span class="kn">from</span> <span class="n">google.colab</span> <span class="kn">import</span> <span class="n">drive</span>
<span class="n">drive</span><span class="p">.</span><span class="nf">mount</span><span class="p">(</span><span class="sh">'</span><span class="s">/drive</span><span class="sh">'</span><span class="p">)</span>
</code></pre></div></div> <h1 id="dataset-description">Dataset Description</h1> <hr/> <p>Here, we are going to use the raw <code class="language-plaintext highlighter-rouge">COVID-19 Patients Lungs X Ray Images 10000</code> data from kaggle.</p> <p><strong>License</strong> Data files Â© Original Authors</p> <p><strong>Citation:</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@Kaggle,
  url       = {https://www.kaggle.com/nabeelsajid917/covid-19-x-ray-10000-images?select=dataset}
}
</code></pre></div></div> <h2 id="load-raw-provided-dataset">Load raw (provided) Dataset</h2> <hr/> <p>Here we have provided dataset :</p> <p>Corona positive : 70</p> <p>Corona negative : 28</p> <h1 id="data-augumentation">Data Augumentation</h1> <hr/> <p>We have provided 70 positive images and 28 negatives. If we apply CNN we need lots of data set so, we need data augmentation to increase the training sample. Augmentation is the process of increasing training samples by flipping, color modification, cropping, rotation, noise injection, and random erasing.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kn">from</span> <span class="n">keras.preprocessing.image</span> <span class="kn">import</span> <span class="n">ImageDataGenerator</span>
<span class="kn">from</span> <span class="n">keras.preprocessing.image</span> <span class="kn">import</span> <span class="n">img_to_array</span>
<span class="kn">from</span> <span class="n">imutils</span> <span class="kn">import</span> <span class="n">paths</span>
<span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="n">cv2</span>
<span class="kn">import</span> <span class="n">os</span>

<span class="k">def</span> <span class="nf">data_augumentation</span><span class="p">(</span><span class="n">input_path</span><span class="p">,</span> <span class="n">output_path</span><span class="p">):</span>
    <span class="sh">'''</span><span class="s">
    Augument the give data.

    ## Parameters:
      input_path (str) : input files path
      output_path (str) : output files path
    </span><span class="sh">'''</span>
    <span class="n">imagePaths</span> <span class="o">=</span> <span class="nf">list</span><span class="p">(</span><span class="n">paths</span><span class="p">.</span><span class="nf">list_images</span><span class="p">(</span><span class="n">input_path</span><span class="p">))</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">imagePath</span> <span class="ow">in</span> <span class="n">imagePaths</span><span class="p">:</span>
        <span class="n">label</span> <span class="o">=</span> <span class="n">imagePath</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">sep</span><span class="p">)[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> 
        <span class="n">image</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="nf">imread</span><span class="p">(</span><span class="n">imagePath</span><span class="p">)</span>
        <span class="n">data</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>  

    <span class="k">for</span> <span class="n">image</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">[INFO] loading example image...</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">image</span> <span class="o">=</span> <span class="nf">img_to_array</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>
        <span class="n">image</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">expand_dims</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">aug</span> <span class="o">=</span> <span class="nc">ImageDataGenerator</span><span class="p">(</span>
            <span class="n">rotation_range</span> <span class="o">=</span> <span class="mi">30</span><span class="p">,</span>
            <span class="n">zoom_range</span> <span class="o">=</span> <span class="mf">0.15</span><span class="p">,</span>
            <span class="n">width_shift_range</span> <span class="o">=</span> <span class="mf">0.2</span><span class="p">,</span>
            <span class="n">height_shift_range</span> <span class="o">=</span> <span class="mf">0.2</span><span class="p">,</span>
            <span class="n">shear_range</span> <span class="o">=</span> <span class="mf">0.15</span><span class="p">,</span>
            <span class="n">horizontal_flip</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span>
            <span class="n">fill_mode</span> <span class="o">=</span> <span class="sh">"</span><span class="s">nearest</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">[INFO] generating images...</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">imageGen</span> <span class="o">=</span> <span class="n">aug</span><span class="p">.</span><span class="nf">flow</span><span class="p">(</span>
            <span class="n">image</span><span class="p">,</span>
            <span class="n">batch_size</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
            <span class="n">save_to_dir</span> <span class="o">=</span> <span class="n">output_path</span><span class="p">,</span>
            <span class="n">save_prefix</span> <span class="o">=</span> <span class="sh">"</span><span class="s">image</span><span class="sh">"</span><span class="p">,</span>
            <span class="n">save_format</span> <span class="o">=</span> <span class="sh">"</span><span class="s">jpg</span><span class="sh">"</span><span class="p">)</span>  
        <span class="k">for</span> <span class="n">image</span> <span class="ow">in</span> <span class="n">imageGen</span><span class="p">:</span>
            <span class="n">total</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">total</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
                <span class="k">break</span>
</code></pre></div></div> <p>Covid postive and negative data augumentation</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Paths</span> <span class="o">=</span> <span class="p">[(</span><span class="sh">"</span><span class="s">/drive/My Drive/covid/raw/covid</span><span class="sh">"</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">/drive/My Drive/covid/processed/covid</span><span class="sh">"</span><span class="p">),</span>
       <span class="p">(</span><span class="sh">"</span><span class="s">/drive/My Drive/covid/raw/normal</span><span class="sh">"</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">/drive/My Drive/covid/processed/normal</span><span class="sh">"</span><span class="p">)]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">Paths</span><span class="p">:</span>
  <span class="nf">data_augumentation</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">i</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</code></pre></div></div> <p>Augmented data and save it into the processed folder.</p> <h1 id="load-augumented-processed-datasets">Load augumented (processed) Datasets</h1> <p>Here after augumentation we had saved augumented dataset into processed folder. Load augumented(processed) dataset.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span>  <span class="nf">get_data</span><span class="p">(</span><span class="n">input_path</span><span class="p">):</span>
    <span class="sh">'''</span><span class="s">
    Get data from given path.

    ## Parameters:
      input_path (str) : input files path

    ## Returns
       data (array) : image array
       labels (array) : label array
    </span><span class="sh">'''</span>
    <span class="n">imagePaths</span> <span class="o">=</span> <span class="nf">list</span><span class="p">(</span><span class="n">paths</span><span class="p">.</span><span class="nf">list_images</span><span class="p">(</span><span class="n">input_path</span><span class="p">))</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">labels</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">imagePath</span> <span class="ow">in</span> <span class="n">imagePaths</span><span class="p">:</span>
        <span class="n">label</span> <span class="o">=</span> <span class="n">imagePath</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">sep</span><span class="p">)[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">image</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="nf">imread</span><span class="p">(</span><span class="n">imagePath</span><span class="p">)</span>
        <span class="n">image</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="nf">cvtColor</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">cv2</span><span class="p">.</span><span class="n">COLOR_BGR2RGB</span><span class="p">)</span>
        <span class="n">image</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="nf">resize</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span class="p">))</span>
        <span class="n">data</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>
        <span class="n">labels</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">data</span><span class="p">,</span><span class="n">labels</span>
</code></pre></div></div> <h1 id="data-preprocessing">Data preprocessing</h1> <hr/> <p>In this section, you will complete a <code class="language-plaintext highlighter-rouge">data_preprocessing</code> function to clean the data and labels.</p> <ul> <li>Normalize all data dividing by 255.(i.e.Â convert image into binary image)</li> <li>Binarize the label using <code class="language-plaintext highlighter-rouge">LabelBinarizer()</code></li> <li>Convert binarizerd labels into categorical vectors.</li> </ul> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">tensorflow.keras.utils</span> <span class="kn">import</span> <span class="n">to_categorical</span>
<span class="kn">from</span> <span class="n">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">LabelBinarizer</span>

<span class="k">def</span> <span class="nf">data_preprocessing</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="n">labels</span><span class="p">):</span>
    <span class="sh">'''</span><span class="s">
    Preprocess the given data.

    ## Parameters:
      data (array) : input image dataset
      labels (array) : array of labels

    ## Returns
       data (array) : processed array of images
       labels (array) : processd array of labels
    </span><span class="sh">'''</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">/</span> <span class="mf">255.0</span>
    <span class="n">labels</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">(</span><span class="n">labels</span><span class="p">)</span>
    <span class="n">lb</span> <span class="o">=</span> <span class="nc">LabelBinarizer</span><span class="p">()</span>
    <span class="n">labels</span> <span class="o">=</span> <span class="n">lb</span><span class="p">.</span><span class="nf">fit_transform</span><span class="p">(</span><span class="n">labels</span><span class="p">)</span>
    <span class="n">labels</span> <span class="o">=</span> <span class="nf">to_categorical</span><span class="p">(</span><span class="n">labels</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">data</span><span class="p">,</span><span class="n">labels</span><span class="p">,</span><span class="n">lb</span>
</code></pre></div></div> <h1 id="train-test-split">Train-Test split</h1> <hr/> <p>We use sklearn <code class="language-plaintext highlighter-rouge">train_test_split</code> function to split data into train and test.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>


<span class="k">def</span> <span class="nf">data_split</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="n">labels</span><span class="p">):</span>

    <span class="p">(</span><span class="n">trainX</span><span class="p">,</span> <span class="n">testX</span><span class="p">,</span> <span class="n">trainY</span><span class="p">,</span> <span class="n">testY</span><span class="p">)</span> <span class="o">=</span> <span class="nf">train_test_split</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.20</span><span class="p">,</span> <span class="n">stratify</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

    <span class="nf">return </span><span class="p">(</span><span class="n">trainX</span><span class="p">,</span> <span class="n">testX</span><span class="p">,</span> <span class="n">trainY</span><span class="p">,</span> <span class="n">testY</span><span class="p">)</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">input_path</span> <span class="o">=</span> <span class="sh">"</span><span class="s">/drive/My Drive/covid/processed</span><span class="sh">"</span>
<span class="n">data</span><span class="p">,</span><span class="n">labels</span> <span class="o">=</span> <span class="nf">get_data</span><span class="p">(</span><span class="n">input_path</span><span class="p">)</span>
<span class="n">data</span><span class="p">,</span><span class="n">labels</span><span class="p">,</span><span class="n">lb</span> <span class="o">=</span> <span class="nf">data_preprocessing</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="n">labels</span><span class="p">)</span>
<span class="p">(</span><span class="n">trainX</span><span class="p">,</span> <span class="n">testX</span><span class="p">,</span> <span class="n">trainY</span><span class="p">,</span> <span class="n">testY</span><span class="p">)</span> <span class="o">=</span> <span class="nf">data_split</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="n">labels</span><span class="p">)</span>
</code></pre></div></div> <h1 id="create-models">Create models</h1> <hr/> <h2 id="vgg16">VGG16</h2> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">tensorflow.keras.applications</span> <span class="kn">import</span> <span class="n">VGG16</span>
<span class="kn">from</span> <span class="n">tensorflow.keras.layers</span> <span class="kn">import</span> <span class="n">AveragePooling2D</span>
<span class="kn">from</span> <span class="n">tensorflow.keras.layers</span> <span class="kn">import</span> <span class="n">Dropout</span>
<span class="kn">from</span> <span class="n">tensorflow.keras.layers</span> <span class="kn">import</span> <span class="n">Flatten</span>
<span class="kn">from</span> <span class="n">tensorflow.keras.layers</span> <span class="kn">import</span> <span class="n">Dense</span>
<span class="kn">from</span> <span class="n">tensorflow.keras.layers</span> <span class="kn">import</span> <span class="n">Input</span>
<span class="kn">from</span> <span class="n">tensorflow.keras.models</span> <span class="kn">import</span> <span class="n">Model</span>
<span class="kn">from</span> <span class="n">tensorflow.keras.optimizers</span> <span class="kn">import</span> <span class="n">Adam</span>


<span class="k">class</span> <span class="nc">Model_VGG16</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="n">int_lr</span><span class="p">,</span><span class="n">epochs</span><span class="p">,</span><span class="n">bs</span><span class="p">):</span>

        <span class="n">self</span><span class="p">.</span><span class="n">int_lr</span> <span class="o">=</span> <span class="n">int_lr</span> <span class="c1"># learning rate
</span>        <span class="n">self</span><span class="p">.</span><span class="n">epochs</span> <span class="o">=</span> <span class="n">epochs</span>
        <span class="n">self</span><span class="p">.</span><span class="n">bs</span> <span class="o">=</span> <span class="n">bs</span>
        <span class="n">baseModel</span> <span class="o">=</span> <span class="nc">VGG16</span><span class="p">(</span><span class="n">weights</span><span class="o">=</span><span class="sh">"</span><span class="s">imagenet</span><span class="sh">"</span><span class="p">,</span> <span class="n">include_top</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                          <span class="n">input_tensor</span><span class="o">=</span><span class="nc">Input</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">3</span><span class="p">)))</span>

        <span class="n">headModel</span> <span class="o">=</span> <span class="n">baseModel</span><span class="p">.</span><span class="n">output</span>
        <span class="n">headModel</span> <span class="o">=</span> <span class="nc">AveragePooling2D</span><span class="p">(</span><span class="n">pool_size</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">))(</span><span class="n">headModel</span><span class="p">)</span>
        <span class="n">headModel</span> <span class="o">=</span> <span class="nc">Flatten</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sh">"</span><span class="s">flatten</span><span class="sh">"</span><span class="p">)(</span><span class="n">headModel</span><span class="p">)</span>
        <span class="n">headModel</span> <span class="o">=</span> <span class="nc">Dense</span><span class="p">(</span><span class="mi">64</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="sh">"</span><span class="s">relu</span><span class="sh">"</span><span class="p">)(</span><span class="n">headModel</span><span class="p">)</span>
        <span class="n">headModel</span> <span class="o">=</span> <span class="nc">Dropout</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)(</span><span class="n">headModel</span><span class="p">)</span>
        <span class="n">headModel</span> <span class="o">=</span> <span class="nc">Dense</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="sh">"</span><span class="s">softmax</span><span class="sh">"</span><span class="p">)(</span><span class="n">headModel</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">model</span> <span class="o">=</span> <span class="nc">Model</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="n">baseModel</span><span class="p">.</span><span class="nb">input</span><span class="p">,</span> <span class="n">outputs</span><span class="o">=</span><span class="n">headModel</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">layer</span> <span class="ow">in</span> <span class="n">baseModel</span><span class="p">.</span><span class="n">layers</span><span class="p">:</span>
            <span class="n">layer</span><span class="p">.</span><span class="n">trainable</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">[INFO] compiling model...</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">opt</span> <span class="o">=</span> <span class="nc">Adam</span><span class="p">(</span><span class="n">lr</span><span class="o">=</span><span class="n">self</span><span class="p">.</span><span class="n">int_lr</span><span class="p">,</span> <span class="n">decay</span><span class="o">=</span><span class="n">self</span><span class="p">.</span><span class="n">int_lr</span> <span class="o">/</span> <span class="n">self</span><span class="p">.</span><span class="n">epochs</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">model</span><span class="p">.</span><span class="nf">compile</span><span class="p">(</span><span class="n">loss</span><span class="o">=</span><span class="sh">"</span><span class="s">binary_crossentropy</span><span class="sh">"</span><span class="p">,</span> <span class="n">optimizer</span><span class="o">=</span><span class="n">opt</span><span class="p">,</span>
                      <span class="n">metrics</span><span class="o">=</span><span class="p">[</span><span class="sh">"</span><span class="s">accuracy</span><span class="sh">"</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">fit</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="n">trainX</span><span class="p">,</span> <span class="n">trainY</span><span class="p">,</span><span class="n">testX</span><span class="p">,</span><span class="n">testY</span><span class="p">):</span>
        <span class="n">trainAug</span> <span class="o">=</span> <span class="nc">ImageDataGenerator</span><span class="p">(</span>
            <span class="n">rotation_range</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span>
            <span class="n">fill_mode</span><span class="o">=</span><span class="sh">"</span><span class="s">nearest</span><span class="sh">"</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">[INFO] training head...</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">History</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">model</span><span class="p">.</span><span class="nf">fit_generator</span><span class="p">(</span>
            <span class="n">trainAug</span><span class="p">.</span><span class="nf">flow</span><span class="p">(</span><span class="n">trainX</span><span class="p">,</span> <span class="n">trainY</span><span class="p">,</span> <span class="n">batch_size</span><span class="o">=</span><span class="n">self</span><span class="p">.</span><span class="n">bs</span><span class="p">),</span>
            <span class="n">steps_per_epoch</span><span class="o">=</span><span class="nf">len</span><span class="p">(</span><span class="n">trainX</span><span class="p">)</span> <span class="o">//</span> <span class="n">self</span><span class="p">.</span><span class="n">bs</span><span class="p">,</span>
            <span class="n">validation_data</span> <span class="o">=</span> <span class="p">(</span><span class="n">testX</span><span class="p">,</span> <span class="n">testY</span><span class="p">),</span>
            <span class="n">validation_steps</span><span class="o">=</span><span class="nf">len</span><span class="p">(</span><span class="n">testX</span><span class="p">)</span> <span class="o">//</span> <span class="n">self</span><span class="p">.</span><span class="n">bs</span><span class="p">,</span>
            <span class="n">epochs</span><span class="o">=</span><span class="n">self</span><span class="p">.</span><span class="n">epochs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">History</span>

    <span class="k">def</span> <span class="nf">predict</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="n">testX</span><span class="p">):</span>
         <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">model</span><span class="p">.</span><span class="nf">predict</span><span class="p">(</span><span class="n">testX</span><span class="p">,</span> <span class="n">batch_size</span><span class="o">=</span><span class="n">self</span><span class="p">.</span><span class="n">bs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">save_model</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">[INFO] saving COVID-19 detector model...</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">model</span><span class="p">.</span><span class="nf">save</span><span class="p">(</span><span class="sh">"</span><span class="s">model.h5</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div> <h1 id="model-evaluation">Model evaluation</h1> <hr/> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">sklearn.metrics</span> <span class="kn">import</span> <span class="n">classification_report</span>
<span class="kn">from</span> <span class="n">sklearn.metrics</span> <span class="kn">import</span> <span class="n">confusion_matrix</span>
<span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="k">def</span> <span class="nf">model_evaluation</span><span class="p">(</span><span class="n">History</span><span class="p">,</span> <span class="n">predIdxs</span><span class="p">,</span> <span class="n">lb</span><span class="p">,</span><span class="n">testX</span><span class="p">,</span><span class="n">testY</span><span class="p">):</span>

    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">[INFO] evaluating network...</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">predIdxs</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">argmax</span><span class="p">(</span><span class="n">predIdxs</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="nf">classification_report</span><span class="p">(</span><span class="n">testY</span><span class="p">.</span><span class="nf">argmax</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">predIdxs</span><span class="p">,</span>
                                <span class="n">target_names</span><span class="o">=</span><span class="n">lb</span><span class="p">.</span><span class="n">classes_</span><span class="p">))</span>

    <span class="n">cm</span> <span class="o">=</span> <span class="nf">confusion_matrix</span><span class="p">(</span><span class="n">testY</span><span class="p">.</span><span class="nf">argmax</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">predIdxs</span><span class="p">)</span>
    <span class="n">total</span> <span class="o">=</span> <span class="nf">sum</span><span class="p">(</span><span class="nf">sum</span><span class="p">(</span><span class="n">cm</span><span class="p">))</span>
    <span class="n">acc</span> <span class="o">=</span> <span class="p">(</span><span class="n">cm</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">cm</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">total</span>
    <span class="n">sensitivity</span> <span class="o">=</span> <span class="n">cm</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="p">(</span><span class="n">cm</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">cm</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
    <span class="n">specificity</span> <span class="o">=</span> <span class="n">cm</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="p">(</span><span class="n">cm</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">cm</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">cm</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">acc: {:.4f}</span><span class="sh">"</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">acc</span><span class="p">))</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">sensitivity: {:.4f}</span><span class="sh">"</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">sensitivity</span><span class="p">))</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">specificity: {:.4f}</span><span class="sh">"</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">specificity</span><span class="p">))</span>
    <span class="c1"># plot the training loss and accuracy
</span>    <span class="n">N</span> <span class="o">=</span> <span class="n">EPOCHS</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">style</span><span class="p">.</span><span class="nf">use</span><span class="p">(</span><span class="sh">"</span><span class="s">ggplot</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">plt</span><span class="p">.</span><span class="nf">figure</span><span class="p">()</span>
    <span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">N</span><span class="p">),</span> <span class="n">History</span><span class="p">.</span><span class="n">history</span><span class="p">[</span><span class="sh">"</span><span class="s">loss</span><span class="sh">"</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sh">"</span><span class="s">train_loss</span><span class="sh">"</span><span class="p">)</span>
    <span class="c1"># plt.plot(np.arange(0, N), History.history["val_loss"], label="val_loss")
</span>    <span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">N</span><span class="p">),</span> <span class="n">History</span><span class="p">.</span><span class="n">history</span><span class="p">[</span><span class="sh">"</span><span class="s">accuracy</span><span class="sh">"</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sh">"</span><span class="s">train_acc</span><span class="sh">"</span><span class="p">)</span>
    <span class="c1"># plt.plot(np.arange(0, N), History.history["val_accuracy"], label="val_acc")
</span>    <span class="n">plt</span><span class="p">.</span><span class="nf">title</span><span class="p">(</span><span class="sh">"</span><span class="s">Training Loss and Accuracy on COVID-19 Dataset</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">plt</span><span class="p">.</span><span class="nf">xlabel</span><span class="p">(</span><span class="sh">"</span><span class="s">Epoch #</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">plt</span><span class="p">.</span><span class="nf">ylabel</span><span class="p">(</span><span class="sh">"</span><span class="s">Loss/Accuracy</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">plt</span><span class="p">.</span><span class="nf">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="sh">"</span><span class="s">lower left</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div> <h1 id="ml-pipeline">ML pipeline</h1> <hr/> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">INIT_LR</span> <span class="o">=</span> <span class="mf">1e-3</span>
<span class="n">EPOCHS</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">BS</span> <span class="o">=</span> <span class="mi">128</span>
<span class="n">model_vgg16</span> <span class="o">=</span> <span class="nc">Model_VGG16</span><span class="p">(</span><span class="n">INIT_LR</span><span class="p">,</span><span class="n">EPOCHS</span><span class="p">,</span><span class="n">BS</span><span class="p">)</span>
<span class="n">History</span> <span class="o">=</span> <span class="n">model_vgg16</span><span class="p">.</span><span class="nf">fit</span><span class="p">(</span><span class="n">trainX</span><span class="p">,</span> <span class="n">trainY</span><span class="p">,</span><span class="n">testX</span><span class="p">,</span><span class="n">testY</span><span class="p">)</span>
<span class="n">predIdxs</span> <span class="o">=</span> <span class="n">model_vgg16</span><span class="p">.</span><span class="nf">predict</span><span class="p">(</span><span class="n">testX</span><span class="p">)</span>
<span class="c1">#print(History.history.keys())
</span></code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">model_evaluation</span><span class="p">(</span><span class="n">History</span><span class="p">,</span> <span class="n">predIdxs</span><span class="p">,</span> <span class="n">lb</span><span class="p">,</span><span class="n">testX</span><span class="p">,</span><span class="n">testY</span><span class="p">)</span>
</code></pre></div></div>]]></content><author><name></name></author><category term="AI"/><category term="covid19"/><category term="CNN"/><category term="computer"/><category term="vision"/><summary type="html"><![CDATA[ð¦  ð¥ A computer vision system is designed to analyze chest X-ray images and determine whether a person is positive or negative for COVID-19.]]></summary></entry><entry><title type="html">Python functions</title><link href="https://madanbaduwal.github.io/blog/2020/python-functions/" rel="alternate" type="text/html" title="Python functions"/><published>2020-12-10T00:00:00+00:00</published><updated>2020-12-10T00:00:00+00:00</updated><id>https://madanbaduwal.github.io/blog/2020/python-functions</id><content type="html" xml:base="https://madanbaduwal.github.io/blog/2020/python-functions/"><![CDATA[<p>In these lessons, weâll cover the fundamentals of Python functions. A function is a series of statements that executes a specific task, helping to reduce code duplication. Throughout the course, weâll explore various types of functions, as illustrated in the figure below:</p> <table> <thead> <tr> <th style="text-align: center"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ0JJDfw3M0rv71W3l56rYpC71mtMBfnZwth7oVSMK2cNwzj1xKaOJPf9uN9ZvkDUzW0GA&amp;usqp=CAU" alt="space-1.jpg"/></th> </tr> </thead> <tbody> <tr> <td style="text-align: center"><em>Type of Functions in Python : <a href="https://d2h0cx97tjks2p.cloudfront.net/blogs/wp-content/uploads/sites/2/2018/01/Python-Functions.jpg">Source</a></em></td> </tr> </tbody> </table> <p>Before starting the function we need to recall the function name, arguments, and parameters.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">function_name</span><span class="p">(</span><span class="n">parameters</span><span class="p">):</span>
  <span class="n">statement</span>
  <span class="n">statement</span>
  <span class="bp">...</span>
  <span class="k">return</span> <span class="n">value</span>

<span class="n">return_value</span> <span class="o">=</span> <span class="nf">function_name</span><span class="p">(</span><span class="n">arguments</span><span class="p">)</span>
</code></pre></div></div> <h2 id="defining-function">Defining Function</h2> <p>We can define a function with the def keyword.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">print_hello</span><span class="p">():</span>
  <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Hello</span><span class="sh">"</span><span class="p">)</span>

<span class="nf">print_hello</span><span class="p">()</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">Hello</span>
</code></pre></div></div> <h3 id="more-on-defining-function">More on defining function</h3> <p>We can define a function with a variable number of arguments.</p> <h4 id="default-argument-values">Default Argument Values</h4> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Defining function with default arguments
</span><span class="k">def</span> <span class="nf">sum</span><span class="p">(</span><span class="n">x</span> <span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
  <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Sum of x, y, and z is:</span><span class="si">{</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">+</span><span class="n">z</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div> <p>Calling a function in different ways:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># giving only the mendatory argument
</span><span class="nf">sum</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Sum</span> <span class="n">of</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="ow">and</span> <span class="n">z</span> <span class="ow">is</span><span class="p">:</span><span class="mi">6</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Giving one of the option arguments
</span><span class="nf">sum</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Sum</span> <span class="n">of</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="ow">and</span> <span class="n">z</span> <span class="ow">is</span><span class="p">:</span><span class="mi">10</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Giving all arguments
</span><span class="nf">sum</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Sum</span> <span class="n">of</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="ow">and</span> <span class="n">z</span> <span class="ow">is</span><span class="p">:</span><span class="mi">12</span>
</code></pre></div></div> <p>Note1 : The default values are evaluated at the point of function defination in the defining scope, so that</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">a</span> <span class="o">=</span> <span class="mi">10</span>
<span class="c1"># The default value for variable arg is set at the time of function definition
</span><span class="k">def</span> <span class="nf">function</span><span class="p">(</span><span class="n">arg</span><span class="o">=</span><span class="n">a</span><span class="p">):</span>
  <span class="nf">print</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>

<span class="n">a</span> <span class="o">=</span> <span class="mi">15</span>
<span class="nf">function</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">10</span>
</code></pre></div></div> <p>Note2: The default value is evaluated only once. This makes a difference when the default is a mutable object such as a list, dictionary, or instances of most classes. For example, the following function accumulates the arguments passed to it on subsequent calls:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># The default value is evaluated only once but in the case of mutable(list, dictionary...) we can evaluate many times.
</span><span class="k">def</span> <span class="nf">append</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">L</span><span class="o">=</span><span class="p">{}):</span>
  <span class="n">L</span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="o">=</span><span class="n">a</span>
  <span class="k">return</span> <span class="n">L</span>

<span class="nf">print</span><span class="p">(</span><span class="nf">append</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">append</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">append</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
</code></pre></div></div> <ul> <li>Note: Order matter while calling in a default argument values function.</li> </ul> <h4 id="keyword-arguments">Keyword Arguments</h4> <p>Functions can also be called using keyword arguments of the form kwarg=value. For instance, the following function:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">z</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
  <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Sum of x, y, and z is:</span><span class="si">{</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">+</span><span class="n">z</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div> <p>Calling a function in different ways:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">add</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Sum</span> <span class="n">of</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="ow">and</span> <span class="n">z</span> <span class="ow">is</span><span class="p">:</span><span class="mi">6</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Sum</span> <span class="n">of</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="ow">and</span> <span class="n">z</span> <span class="ow">is</span><span class="p">:</span><span class="mi">7</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Sum</span> <span class="n">of</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="ow">and</span> <span class="n">z</span> <span class="ow">is</span><span class="p">:</span><span class="mi">9</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">add</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Sum</span> <span class="n">of</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="ow">and</span> <span class="n">z</span> <span class="ow">is</span><span class="p">:</span><span class="mi">6</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">add</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">z</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Sum</span> <span class="n">of</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="ow">and</span> <span class="n">z</span> <span class="ow">is</span><span class="p">:</span><span class="mi">11</span>
</code></pre></div></div> <p>But some following calls are invalid:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">add</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="o">-</span>
<span class="nb">TypeError</span>                                 <span class="nc">Traceback </span><span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">33</span><span class="o">-</span><span class="n">d5d29de3ed94</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span><span class="p">()</span>
<span class="o">----&gt;</span> <span class="mi">1</span> <span class="nf">add</span><span class="p">()</span>

<span class="nb">TypeError</span><span class="p">:</span> <span class="nf">add</span><span class="p">()</span> <span class="n">missing</span> <span class="mi">1</span> <span class="n">required</span> <span class="n">positional</span> <span class="n">argument</span><span class="p">:</span> <span class="sh">'</span><span class="s">x</span><span class="sh">'</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">File</span> <span class="sh">"</span><span class="s">&lt;ipython-input-34-ea0ca97f0446&gt;</span><span class="sh">"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span>
    <span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
           <span class="o">^</span>
<span class="nb">SyntaxError</span><span class="p">:</span> <span class="n">positional</span> <span class="n">argument</span> <span class="n">follows</span> <span class="n">keyword</span> <span class="n">argument</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">add</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="o">-</span>
<span class="nb">TypeError</span>                                 <span class="nc">Traceback </span><span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">37</span><span class="o">-</span><span class="n">cf0a26e4ab05</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span><span class="p">()</span>
<span class="o">----&gt;</span> <span class="mi">1</span> <span class="nf">add</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="nb">TypeError</span><span class="p">:</span> <span class="nf">add</span><span class="p">()</span> <span class="n">got</span> <span class="n">multiple</span> <span class="n">values</span> <span class="k">for</span> <span class="n">argument</span> <span class="sh">'</span><span class="s">x</span><span class="sh">'</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">add</span><span class="p">(</span><span class="n">k</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="o">-</span>
<span class="nb">TypeError</span>                                 <span class="nc">Traceback </span><span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">38</span><span class="o">-</span><span class="mi">4063630</span><span class="n">c747d</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span><span class="p">()</span>
<span class="o">----&gt;</span> <span class="mi">1</span> <span class="nf">add</span><span class="p">(</span><span class="n">k</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="nb">TypeError</span><span class="p">:</span> <span class="nf">add</span><span class="p">()</span> <span class="n">got</span> <span class="n">an</span> <span class="n">unexpected</span> <span class="n">keyword</span> <span class="n">argument</span> <span class="sh">'</span><span class="s">k</span><span class="sh">'</span>
</code></pre></div></div> <h4 id="special-parameters">Special parameters</h4> <p>Developer needs only look at the function definition to determine if items are passed by position, by position or keyword, or by keyword.</p> <p>A function definition may look like:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">pos1</span><span class="p">,</span> <span class="n">pos2</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="n">pos_or_kwd</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">kwd1</span><span class="p">,</span> <span class="n">kwd2</span><span class="p">):</span>
      <span class="o">-----------</span>    <span class="o">----------</span>     <span class="o">----------</span>
        <span class="o">|</span>             <span class="o">|</span>                  <span class="o">|</span>
        <span class="o">|</span>        <span class="n">Positional</span> <span class="ow">or</span> <span class="n">keyword</span>   <span class="o">|</span>
        <span class="o">|</span>                                <span class="o">-</span> <span class="n">Keyword</span> <span class="n">only</span>
         <span class="o">--</span> <span class="n">Positional</span> <span class="n">only</span>
</code></pre></div></div> <p>where / and * are optional. If used, these symbols indicate the kind of parameter by how the arguments may be passed to the function: positional-only, positional-or-keyword, and keyword-only. Keyword parameters are also referred to as named parameters.</p> <h5 id="positional-or-keyword-arguments">Positional-or-Keyword Arguments</h5> <p>If / and * are not present in the function definition, arguments may be passed to a function by position or by keyword.</p> <h5 id="positional-only-parameters">Positional-Only Parameters</h5> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">pos1</span><span class="p">,</span> <span class="n">pos2</span><span class="p">,</span> <span class="o">/</span><span class="p">):</span>
      <span class="o">-----------</span>    <span class="o">----------</span>     <span class="o">----------</span>
        <span class="o">|</span>
         <span class="o">--</span> <span class="n">Positional</span> <span class="n">only</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">pos_only_arg</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span><span class="o">/</span><span class="p">):</span>
  <span class="nf">print</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
</code></pre></div></div> <p>Note: poition only support 3.8</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">pos_only_arg</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">1</span>

<span class="nf">pos_only_arg</span><span class="p">(</span><span class="n">arg</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nc">Traceback </span><span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="sh">"</span><span class="s">&lt;stdin&gt;</span><span class="sh">"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="nb">TypeError</span><span class="p">:</span> <span class="nf">pos_only_arg</span><span class="p">()</span> <span class="n">got</span> <span class="n">an</span> <span class="n">unexpected</span> <span class="n">keyword</span> <span class="n">argument</span> <span class="sh">'</span><span class="s">arg</span><span class="sh">'</span>

</code></pre></div></div> <h5 id="keyword-only-parameters">Keyword-Only Parameters</h5> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">kwd_only_arg</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">arg</span><span class="p">):</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">kwd_only_arg</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="o">-</span>
<span class="nb">TypeError</span>                                 <span class="nc">Traceback </span><span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">8</span><span class="o">-</span><span class="mi">896</span><span class="n">c53ef896c</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span><span class="p">()</span>
<span class="o">----&gt;</span> <span class="mi">1</span> <span class="nf">kwd_only_arg</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

<span class="nb">TypeError</span><span class="p">:</span> <span class="nf">kwd_only_arg</span><span class="p">()</span> <span class="n">takes</span> <span class="mi">0</span> <span class="n">positional</span> <span class="n">arguments</span> <span class="n">but</span> <span class="mi">1</span> <span class="n">was</span> <span class="n">given</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">kwd_only_arg</span><span class="p">(</span><span class="n">arg</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">3</span>
</code></pre></div></div> <h4 id="arbitrary-argument">Arbitrary Argument</h4> <p>Function can be call with an arbitrary number of arguments.</p> <h5 id="arbitrary-argument-tuples">Arbitrary Argument tuples</h5> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">arbitrary_argument</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
  <span class="k">return</span> <span class="n">args</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">print</span><span class="p">(</span><span class="nf">arbitrary_argument</span><span class="p">(</span><span class="sh">"</span><span class="s">hi</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">iam</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">madan</span><span class="sh">"</span><span class="p">))</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="sh">'</span><span class="s">hi</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">iam</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">madan</span><span class="sh">'</span><span class="p">)</span>
</code></pre></div></div> <p>Note: From above we can see that arguments are wrapped up in a tuple (see Tuples and Sequences)</p> <h5 id="arbitrary-argument-lists">Arbitrary Argument lists</h5> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">arbitrary_argument</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
  <span class="n">L</span> <span class="o">=</span> <span class="nf">list</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">L</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">print</span><span class="p">(</span><span class="nf">arbitrary_argument</span><span class="p">(</span><span class="sh">"</span><span class="s">hi</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">iam</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">madan</span><span class="sh">"</span><span class="p">))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="sh">'</span><span class="s">hi</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">iam</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">madan</span><span class="sh">'</span><span class="p">]</span>
</code></pre></div></div> <h5 id="arbitrary-argument-dictionaries">Arbitrary Argument dictionaries</h5> <p>In the same fashion, dictionaries can deliver keyword arguments with the **-operator:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">arbitrary_argument</span><span class="p">(</span><span class="o">**</span><span class="n">args</span><span class="p">):</span>
  <span class="k">return</span> <span class="n">args</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">print</span><span class="p">(</span><span class="nf">arbitrary_argument</span><span class="p">(</span><span class="n">hi</span><span class="o">=</span><span class="sh">"</span><span class="s">hi</span><span class="sh">"</span><span class="p">,</span><span class="n">iam</span><span class="o">=</span><span class="sh">"</span><span class="s">iam</span><span class="sh">"</span><span class="p">,</span><span class="n">Madan</span><span class="o">=</span><span class="sh">"</span><span class="s">Madan</span><span class="sh">"</span><span class="p">))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">{</span><span class="sh">'</span><span class="s">hi</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">hi</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">iam</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">iam</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">Madan</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">Madan</span><span class="sh">'</span><span class="p">}</span>

</code></pre></div></div> <p>Note: for dictionary we need to pass âkeyâ:âvalueâ into key=âvalueâ this formate.</p> <h4 id="lambda-expressions">Lambda Expressions</h4> <p>Small anonymous functions can be created with the lambda keyword.</p> <ul> <li><code class="language-plaintext highlighter-rouge">lambda arguments : expression</code></li> </ul> <p><strong>Arguments:</strong></p> <p>-Positional arguments</p> <p>-Named arguments (sometimes called keyword arguments)</p> <p>-Variable list of arguments (often referred to as varargs)</p> <p>-Variable list of keyword arguments</p> <p>-Keyword-only arguments</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">lambda</span> <span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">:</span><span class="n">a</span><span class="o">+</span><span class="n">b</span>
<span class="o">&gt;&gt;&gt;</span> <span class="o">&lt;</span><span class="n">function</span> <span class="n">__main__</span><span class="p">.</span><span class="o">&lt;</span><span class="k">lambda</span><span class="o">&gt;&gt;</span>

</code></pre></div></div> <p>calling lambda function</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">_</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="c1"># Note _  call recent run things
</span><span class="o">&gt;&gt;&gt;</span> <span class="mi">3</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">_</span> <span class="c1">#last output value
</span><span class="o">&gt;&gt;&gt;</span> <span class="mi">3</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="k">lambda</span> <span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">:</span><span class="n">a</span><span class="o">*</span><span class="n">b</span><span class="p">)(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="c1"># call lambda function
</span><span class="o">&gt;&gt;&gt;</span> <span class="mi">6</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">divide</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">:</span> <span class="n">a</span><span class="o">/</span><span class="n">b</span>

<span class="nf">divide</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="c1"># calling lambda function
</span><span class="o">&gt;&gt;&gt;</span> <span class="mf">2.0</span>
</code></pre></div></div> <h4 id="recursion">Recursion</h4> <p>We can make a function call itself. This is known as recursion.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">facto</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
  <span class="k">if</span> <span class="n">n</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
    <span class="k">return</span> <span class="mi">1</span>
  <span class="k">return</span> <span class="n">n</span><span class="o">*</span><span class="nf">facto</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> 
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">facto</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">120</span>
</code></pre></div></div> <p>How does it work?</p> <p>We already know the return keyword return value.</p> <p>first step: value = 5*facto(4)</p> <p>second step: value = 5* 4 * facto(3)</p> <p>third step: value = 5* 4* 3 * facto(2)</p> <p>fourth step: value = 5 * 4 * 3 * 2 *facto(1)</p> <p>fifth step: value = 5 * 4 * 3 * 2 * 1</p> <h4 id="decorators">Decorators</h4> <p>Decorators are very powerful and useful tool in Python since it allows programmers to modify the behavior of function or class.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">uppercase_decorator</span><span class="p">(</span><span class="n">function</span><span class="p">):</span> <span class="c1"># Pass function as an argument
</span>    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">():</span>
        <span class="n">func</span> <span class="o">=</span> <span class="nf">function</span><span class="p">()</span>
        <span class="n">make_uppercase</span> <span class="o">=</span> <span class="n">func</span><span class="p">.</span><span class="nf">upper</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">make_uppercase</span> <span class="c1"># return function as value
</span>
    <span class="k">return</span> <span class="n">wrapper</span> <span class="c1"># return function as value
</span></code></pre></div></div> <p>Our decorator function takes a function as an argument, and we shall, therefore, define a function and pass it to our decorator.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">say_hi</span><span class="p">():</span>
    <span class="k">return</span> <span class="sh">'</span><span class="s">hello there</span><span class="sh">'</span>

<span class="n">decorate</span> <span class="o">=</span> <span class="nf">uppercase_decorator</span><span class="p">(</span><span class="n">say_hi</span><span class="p">)</span>
<span class="nf">decorate</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">HELLO</span> <span class="n">THERE</span>
</code></pre></div></div> <p>However, Python provides a much easier way for us to apply decorators. We simply use the @ symbol before the function weâd like to decorate.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@uppercase_decorator</span>
<span class="k">def</span> <span class="nf">say_hi</span><span class="p">():</span>
    <span class="k">return</span> <span class="sh">'</span><span class="s">hello there</span><span class="sh">'</span>

<span class="nf">say_hi</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">HELLO</span> <span class="n">THERE</span>
</code></pre></div></div> <h4 id="generator-functions-and-yield">Generator functions and yield</h4> <p>Consider this simple function which returns a range of numbers as a list:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">my_list</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">l</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">:</span>
        <span class="n">l</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">return</span> <span class="n">l</span>
</code></pre></div></div> <p>This function builds the full list of numbers and returns it. We can change this function into a generator function while preserving a very similar syntax, like this:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">my_gen</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">i</span>  <span class="c1">#  Yield le value return gardain , state retun garxa
</span>        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">my_gen</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="o">&lt;</span><span class="n">generator</span> <span class="nb">object</span> <span class="n">my_gen</span> <span class="n">at</span> <span class="mh">0x7f06035b3c50</span><span class="o">&gt;</span>

</code></pre></div></div> <p>From above we can say that yield statement suspends functionâs execution and sends a value back to the caller, but retains enough state to enable function to resume where it is left off.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">g</span> <span class="o">=</span> <span class="nf">my_gen</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="nf">type</span><span class="p">(</span><span class="n">g</span><span class="p">))</span>

<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">g</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    
<span class="o">&gt;&gt;&gt;</span>  <span class="o">&lt;</span><span class="k">class</span> <span class="err">'</span><span class="nc">generator</span><span class="sh">'</span><span class="s">&gt;
0
1
2
</span></code></pre></div></div> <p>How yield keyword work?</p> <ul> <li> <p>After the yield statement is executed, execution of the function does not end â when the next value is requested from the generator, it will go back to the beginning of the function and execute it again.</p> </li> <li> <p>The yield keyword in python works like a return with the only difference is that instead of returning a value, it gives back a generator object to the caller.</p> </li> </ul> <h4 id="documentation-strings">Documentation Strings</h4> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">my_function</span><span class="p">():</span>
    <span class="sh">"""</span><span class="s">Do nothing, but document it.          # First latter capital and end with period
                                             # Second line is blank if there is multiple line for documentation string.
     No, really, it doesn</span><span class="sh">'</span><span class="s">t do anything.     # Indentation determine by first line open quote
     </span><span class="sh">"""</span>
    <span class="k">pass</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">print</span><span class="p">(</span><span class="n">my_function</span><span class="p">.</span><span class="n">__doc__</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">Do</span> <span class="n">nothing</span><span class="p">,</span> <span class="n">but</span> <span class="n">document</span> <span class="n">it</span><span class="p">.</span>         <span class="c1"># first latter capital and end with period
</span>                                            <span class="c1"># second line is blank if there is multiple line for documentation string.
</span>     <span class="n">No</span><span class="p">,</span> <span class="n">really</span><span class="p">,</span> <span class="n">it</span> <span class="n">doesn</span><span class="sh">'</span><span class="s">t do anything.     # indentation determine by first line open quote
     
</span></code></pre></div></div> <h4 id="callback-function">Callback Function</h4> <p><strong>What is a Callback Function?</strong></p> <p>A callback is a function that is passed as an argument to other function. This other function is expected to call this callback function in its definition. The point at which other function calls our callback function depends on the requirement and nature of other function.</p> <p>Callback Functions are generally used with asynchronous functions.</p> <p>Example for Callback Function: Callback Function can be passed to a function to print out the size of file after the function reads given text file.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">callbackFunc</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">Length of the text file is : </span><span class="sh">'</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">printFileLength</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">callback</span><span class="p">):</span>
    <span class="n">f</span> <span class="o">=</span> <span class="nf">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="sh">"</span><span class="s">r</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">length</span> <span class="o">=</span> <span class="nf">len</span><span class="p">(</span><span class="n">f</span><span class="p">.</span><span class="nf">read</span><span class="p">())</span>
    <span class="n">f</span><span class="p">.</span><span class="nf">close</span><span class="p">()</span>
    <span class="nf">callback</span><span class="p">(</span><span class="n">length</span><span class="p">)</span>

</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">printFileLength</span><span class="p">(</span><span class="sh">"</span><span class="s">test.txt</span><span class="sh">"</span><span class="p">,</span> <span class="n">callbackFunc</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">Output</span> <span class="p">:</span> <span class="n">Length</span> <span class="n">of</span> <span class="n">the</span> <span class="n">text</span> <span class="nb">file</span> <span class="ow">is</span> <span class="p">:</span> <span class="mi">40</span>
</code></pre></div></div> <h4 id="function-annotations">Function Annotations</h4> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">bio</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">address</span><span class="p">:</span> <span class="nb">str</span><span class="o">=</span><span class="sh">'</span><span class="s">address</span><span class="sh">'</span><span class="p">)</span><span class="o">-&gt;</span><span class="nb">str</span><span class="p">:</span> <span class="c1"># colon (:) paxiko annotation ho and -&gt; paxiko return type janauna
</span>  <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">ANnotation</span><span class="sh">"</span><span class="p">,</span><span class="n">bio</span><span class="p">.</span><span class="n">__annotations__</span><span class="p">)</span>   
  <span class="k">return</span> <span class="sh">'</span><span class="s">and</span><span class="sh">'</span><span class="o">+</span><span class="n">address</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">bio</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">ANnotation</span> <span class="p">{</span><span class="sh">'</span><span class="s">name</span><span class="sh">'</span><span class="p">:</span> <span class="o">&lt;</span><span class="k">class</span> <span class="err">'</span><span class="nc">str</span><span class="sh">'</span><span class="s">&gt;, </span><span class="sh">'</span><span class="n">address</span><span class="sh">'</span><span class="s">: &lt;class </span><span class="sh">'</span><span class="nb">str</span><span class="sh">'</span><span class="s">&gt;, </span><span class="sh">'</span><span class="k">return</span><span class="sh">'</span><span class="s">: &lt;class </span><span class="sh">'</span><span class="nb">str</span><span class="sh">'</span><span class="s">&gt;}
</span><span class="sh">'</span><span class="n">andaddress</span><span class="sh">'</span><span class="s">
</span></code></pre></div></div> <h1 id="references">References</h1> <ul> <li> <p><a href="https://python-textbok.readthedocs.io/en/1.0/">Readthedocs</a></p> </li> <li> <p><a href="https://realpython.com/python3-object-oriented-programming/">Realpython</a></p> </li> </ul>]]></content><author><name></name></author><category term="python"/><category term="python"/><category term="functions"/><summary type="html"><![CDATA[ð Discover everything about Python functions, starting from the basics of what a function is to advanced topics like decorators and generators.]]></summary></entry></feed>